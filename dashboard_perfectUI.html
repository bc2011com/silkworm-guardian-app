<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard ‡∏≠‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏≤‡πÑ‡∏´‡∏°‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</title>

  <!-- ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ -->
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --green-main: #2e7d32;
      --green-soft: #e8f5e9;
      --green-soft2: #f1f8e9;
      --text-main: #263238;
      --card-bg: #ffffff;
      --shadow-soft: 0 8px 18px rgba(0, 0, 0, 0.06);
      --radius-xl: 20px;
    }

    body {
      font-family: 'Sarabun', Arial, sans-serif;
      background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
    }

    /* ---------- Layout ‡∏´‡∏•‡∏±‡∏Å ---------- */
    .sidebar {
      width: 260px;
      background: #1b5e20;
      color: #e8f5e9;
      padding: 20px 18px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .sidebar-logo {
      width: 42px;
      height: 42px;
      border-radius: 12px;
      background: #e8f5e9;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 26px;
      font-weight: 700;
      color: #1b5e20;
    }

    .sidebar-title {
      font-size: 18px;
      font-weight: 700;
      line-height: 1.3;
    }

    .sidebar-subtitle {
      font-size: 12px;
      opacity: 0.8;
    }

    .sidebar-nav {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .nav-item {
      padding: 10px 12px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.2s, transform 0.1s;
    }

    .nav-item span.icon {
      font-size: 18px;
    }

    .nav-item.active {
      background: rgba(232, 245, 233, 0.2);
      font-weight: 600;
    }

    .nav-item:hover {
      background: rgba(232, 245, 233, 0.2);
      transform: translateY(-1px);
    }

    .sidebar-footer {
      margin-top: auto;
      font-size: 12px;
      opacity: 0.85;
    }

    .sidebar-footer strong {
      display: block;
      font-size: 13px;
    }

    /* ---------- Main ---------- */
    .main {
      flex: 1;
      padding: 20px 26px;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .top-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    .top-title-group {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .top-title {
      font-size: 24px;
      font-weight: 700;
      color: #1b5e20;
    }

    .top-subtitle {
      font-size: 14px;
      opacity: 0.8;
    }

    .top-right {
      display: flex;
      align-items: center;
      gap: 18px;
      font-size: 14px;
    }

    .badge-today {
      background: #c8e6c9;
      padding: 6px 12px;
      border-radius: 999px;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .user-pill {
      padding: 7px 14px;
      border-radius: 999px;
      background: #ffffff;
      box-shadow: var(--shadow-soft);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .user-avatar {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: #a5d6a7;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 14px;
      font-weight: 700;
      color: #1b5e20;
    }

    /* ---------- ‡πÅ‡∏ñ‡∏ß‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ---------- */
    .summary-row {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 16px;
    }

    .summary-card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 14px 16px;
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .summary-label {
      font-size: 14px;
      opacity: 0.75;
    }

    .summary-value {
      font-size: 22px;
      font-weight: 700;
    }

    .summary-extra {
      font-size: 12px;
      opacity: 0.7;
    }

    /* ---------- ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ ---------- */
    .farmer-section {
      margin-top: 4px;
      background: rgba(232, 245, 233, 0.7);
      border-radius: var(--radius-xl);
      padding: 14px 16px 18px;
      box-shadow: var(--shadow-soft);
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .farmer-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .farmer-title {
      font-size: 18px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .farmer-toggle {
      border: none;
      background: #1b5e20;
      color: #e8f5e9;
      padding: 6px 12px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .farmer-grid {
      margin-top: 6px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
    }

    .farmer-btn {
      background: #ffffff;
      border-radius: 24px;
      padding: 16px 12px;
      box-shadow: var(--shadow-soft);
      border: 2px solid transparent;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 4px;
      align-items: center;
      justify-content: center;
      text-align: center;
      min-height: 92px;
      transition: transform 0.1s, box-shadow 0.1s, border 0.1s, background 0.1s;
      font-size: 16px;
      font-weight: 600;
    }

    .farmer-btn span.icon {
      font-size: 30px;
      margin-bottom: 4px;
    }

    .farmer-btn small {
      font-size: 13px;
      font-weight: 400;
      opacity: 0.7;
    }

    .farmer-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 22px rgba(0, 0, 0, 0.12);
      border-color: #66bb6a;
      background: #f1f8e9;
    }

    /* ---------- ‡πÅ‡∏ñ‡∏ß‡∏Å‡∏£‡∏≤‡∏ü ---------- */
    .chart-row {
      display: grid;
      grid-template-columns: 2fr 1.2fr;
      gap: 16px;
      margin-top: 6px;
    }

    .card {
      background: var(--card-bg);
      border-radius: var(--radius-xl);
      padding: 16px 16px 18px;
      box-shadow: var(--shadow-soft);
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 8px;
    }

    .card-title {
      font-size: 16px;
      font-weight: 600;
    }

    .card-subtitle {
      font-size: 12px;
      opacity: 0.7;
    }

    .chip {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      background: #e8f5e9;
      border: 1px solid #c8e6c9;
    }

    /* ---------- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ---------- */
    .tasks-list {
      margin-top: 8px;
      display: flex;
      flex-direction: column;
      gap: 6px;
      font-size: 14px;
    }

    .task-item {
      padding: 6px 8px;
      border-radius: 12px;
      background: #f1f8e9;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .task-dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #66bb6a;
      flex-shrink: 0;
    }

    .task-time {
      font-size: 12px;
      opacity: 0.7;
    }

    /* ---------- Responsive ---------- */
    @media (max-width: 1100px) {
      .summary-row {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .farmer-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
      .chart-row {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 860px) {
      body {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        flex-direction: row;
        overflow-x: auto;
        padding: 10px 12px;
      }
      .sidebar-header {
        margin-bottom: 0;
        margin-right: 12px;
      }
      .sidebar-nav {
        flex-direction: row;
        flex-wrap: nowrap;
        overflow-x: auto;
      }
      .sidebar-footer {
        display: none;
      }
    }

    @media (max-width: 640px) {
      .top-bar {
        flex-direction: column;
        align-items: flex-start;
      }
      .summary-row {
        grid-template-columns: 1fr;
      }
      .farmer-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- ======= Sidebar ======= -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <div class="sidebar-logo">‡πÑ‡∏´‡∏°</div>
      <div>
        <div class="sidebar-title">‡∏≠‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏≤‡πÑ‡∏´‡∏°‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á<br />‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞</div>
        <div class="sidebar-subtitle">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ ‡πÅ‡∏•‡∏∞‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢</div>
      </div>
    </div>

    <nav class="sidebar-nav">
      <div class="nav-item active">
        <span class="icon">üìä</span>
        <span>‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏° Dashboard</span>
      </div>
      <div class="nav-item">
        <span class="icon">ü™∫</span>
        <span>‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏°</span>
      </div>
      <div class="nav-item">
        <span class="icon">ü•¨</span>
        <span>‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏¢</span>
      </div>
      <div class="nav-item">
        <span class="icon">üì¶</span>
        <span>‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏£‡∏±‡∏á / ‡πÄ‡∏™‡πâ‡∏ô</span>
      </div>
      <div class="nav-item">
        <span class="icon">üîî</span>
        <span>‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
      </div>
      <div class="nav-item">
        <span class="icon">üìñ</span>
        <span>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏° 52 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</span>
      </div>
    </nav>

    <div class="sidebar-footer">
      <strong>‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡∏à‡∏±‡∏¢:</strong>
      ‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏≤‡∏£‡∏±‡∏Å‡∏Ç‡∏≤‡πÑ‡∏´‡∏°‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞<br />
      ‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡∏ä‡∏∏‡∏°‡∏ä‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏°
    </div>
  </aside>

  <!-- ======= Main ======= -->
  <main class="main">
    <!-- Top bar -->
    <section class="top-bar">
      <div class="top-title-group">
        <div class="top-title">Dashboard ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏°</div>
        <div class="top-subtitle" id="topSubtitle">
          ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏° 5 ‡∏ß‡∏±‡∏¢ ‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
        </div>
      </div>
      <div class="top-right">
        <div class="badge-today">
          üìÖ <span id="todayText">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
        </div>
        <div class="user-pill">
          <div class="user-avatar">‡∏ü</div>
          <div>
            <div>‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡πÑ‡∏´‡∏°</div>
            <div style="font-size: 11px; opacity: 0.7;">‡πÇ‡∏´‡∏°‡∏î‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Summary cards -->
    <section class="summary-row">
      <div class="summary-card">
        <div class="summary-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏ô‡∏õ‡∏µ‡∏ô‡∏µ‡πâ</div>
        <div class="summary-value" id="summaryBatches">4 ‡∏£‡∏≠‡∏ö</div>
        <div class="summary-extra">‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏£‡∏≠‡∏ö‡∏•‡∏∞ 25‚Äì28 ‡∏ß‡∏±‡∏ô</div>
      </div>
      <div class="summary-card">
        <div class="summary-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡πÑ‡∏Ç‡πà‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
        <div class="summary-value" id="summaryEggSheets">32 ‡πÅ‡∏ú‡πà‡∏ô</div>
        <div class="summary-extra">‡∏£‡∏≠‡∏ö‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î: 8 ‡πÅ‡∏ú‡πà‡∏ô</div>
      </div>
      <div class="summary-card">
        <div class="summary-label">‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏£‡∏ß‡∏° (‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á)</div>
        <div class="summary-value" id="summaryCocoonKg">185 ‡∏Å‡∏Å.</div>
        <div class="summary-extra">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô ~12% ‡∏à‡∏≤‡∏Å‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß</div>
      </div>
      <div class="summary-card">
        <div class="summary-label">‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏£‡∏ß‡∏° (‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏™‡πâ‡∏ô)</div>
        <div class="summary-value" id="summarySilkKg">32 ‡∏Å‡∏Å.</div>
        <div class="summary-extra">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏±‡∏á &gt; ‡πÄ‡∏™‡πâ‡∏ô ~17%</div>
      </div>
    </section>

    <!-- Farmer big buttons -->
    <section class="farmer-section">
      <div class="farmer-header">
        <div class="farmer-title">
          üë©‚Äçüåæ ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£
        </div>
        <button class="farmer-toggle" id="farmerToggle">
          üëÅÔ∏è ‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà
        </button>
      </div>
      <div class="farmer-grid" id="farmerGrid">
        <button class="farmer-btn" onclick="handleAction('newBatch')">
          <span class="icon">ü™∫</span>
          ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà
          <small>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏´‡∏°, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡πÑ‡∏Ç‡πà</small>
        </button>
        <button class="farmer-btn" onclick="handleAction('feedingToday')">
          <span class="icon">ü•¨</span>
          ‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
          <small>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÉ‡∏ö‡∏´‡∏°‡πà‡∏≠‡∏ô‡∏ï‡∏≤‡∏°‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏¢</small>
        </button>
        <button class="farmer-btn" onclick="handleAction('cleaning')">
          <span class="icon">üßπ</span>
          ‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ú‡∏á
          <small>‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÇ‡∏£‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</small>
        </button>
        <button class="farmer-btn" onclick="handleAction('production')">
          <span class="icon">üì¶</span>
          ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï
          <small>‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á, ‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏™‡πâ‡∏ô, ‡∏Ç‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£</small>
        </button>
        <button class="farmer-btn" onclick="handleAction('disease')">
          <span class="icon">ü¶†</span>
          ‡πÇ‡∏£‡∏Ñ‡πÅ‡∏•‡∏∞‡∏®‡∏±‡∏ï‡∏£‡∏π‡πÑ‡∏´‡∏°
          <small>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏£, ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö</small>
        </button>
        <button class="farmer-btn" onclick="handleAction('tempHumidity')">
          <span class="icon">üå°Ô∏è</span>
          ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ ‚Äì ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô
          <small>‡∏à‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏†‡∏≤‡∏û‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</small>
        </button>
        <button class="farmer-btn" onclick="handleAction('photo')">
          <span class="icon">üì∏</span>
          ‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏¢
          <small>‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢</small>
        </button>
        <button class="farmer-btn" onclick="handleAction('manual')">
          <span class="icon">üìñ</span>
          ‡πÄ‡∏õ‡∏¥‡∏î‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ 52 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå
          <small>‡∏î‡∏π‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</small>
        </button>
      </div>
    </section>

    <!-- Charts + Tasks -->
    <section class="chart-row">
      <!-- Chart 1: ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏±‡∏á‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö -->
      <div class="card">
        <div class="card-header">
          <div>
            <div class="card-title">‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏£‡∏±‡∏á‡πÑ‡∏´‡∏° (‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á) ‡∏ï‡∏≤‡∏°‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</div>
            <div class="card-subtitle">
              ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á ‚Äì ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Supabase ‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
            </div>
          </div>
          <div class="chip">‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</div>
        </div>
        <canvas id="cocoonChart" height="130"></canvas>
      </div>

      <!-- Chart 2 + Tasks -->
      <div class="card">
        <div class="card-header">
          <div>
            <div class="card-title">‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï</div>
            <div class="card-subtitle">
              ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏™‡πâ‡∏ô (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á)
            </div>
          </div>
        </div>
        <canvas id="ratioChart" height="130"></canvas>

        <div class="card-header" style="margin-top: 14px;">
          <div class="card-title">‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</div>
        </div>
        <div class="tasks-list" id="tasksList">
          <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
        </div>
      </div>
    </section>
  </main>

  <script>
    // ‡πÅ‡∏õ‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡πâ‡∏ô ‡πÜ
    function formatThaiDate(date) {
      const days = ['‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå', '‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå', '‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£', '‡∏û‡∏∏‡∏ò', '‡∏û‡∏§‡∏´‡∏±‡∏™‡∏ö‡∏î‡∏µ', '‡∏®‡∏∏‡∏Å‡∏£‡πå', '‡πÄ‡∏™‡∏≤‡∏£‡πå'];
      const months = [
        '‡∏°.‡∏Ñ.', '‡∏Å.‡∏û.', '‡∏°‡∏µ.‡∏Ñ.', '‡πÄ‡∏°.‡∏¢.', '‡∏û.‡∏Ñ.', '‡∏°‡∏¥.‡∏¢.',
        '‡∏Å.‡∏Ñ.', '‡∏™.‡∏Ñ.', '‡∏Å.‡∏¢.', '‡∏ï.‡∏Ñ.', '‡∏û.‡∏¢.', '‡∏ò.‡∏Ñ.'
      ];
      const d = date.getDate();
      const m = months[date.getMonth()];
      const dayName = days[date.getDay()];
      const y = date.getFullYear() + 543; // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô ‡∏û.‡∏®.
      return `‡∏ß‡∏±‡∏ô${dayName} ‡∏ó‡∏µ‡πà ${d} ${m} ${y}`;
    }

    function initToday() {
      const today = new Date();
      document.getElementById('todayText').textContent = formatThaiDate(today);
    }

    // ‡πÇ‡∏´‡∏°‡∏î‡∏ã‡πà‡∏≠‡∏ô/‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà
    function initFarmerToggle() {
      const btn = document.getElementById('farmerToggle');
      const grid = document.getElementById('farmerGrid');
      btn.addEventListener('click', () => {
        if (grid.style.display === 'none') {
          grid.style.display = 'grid';
        } else {
          grid.style.display = 'none';
        }
      });
    }

    // handler ‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏ç‡πà (‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏Ñ‡πà alert ‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏ó‡∏≥‡∏á‡∏≤‡∏ô)
    function handleAction(action) {
      let message = '';
      switch (action) {
        case 'newBatch':
          message = '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏°‡πÉ‡∏´‡∏°‡πà\n(‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏±‡∏ô‡∏ò‡∏∏‡πå‡πÑ‡∏´‡∏°‡πÉ‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≠‡πÑ‡∏õ)';
          break;
        case 'feedingToday':
          message = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏´‡∏°‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏¢‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ';
          break;
        case 'cleaning':
          message = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î/‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏°';
          break;
        case 'production':
          message = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï ‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏™‡πâ‡∏ô';
          break;
        case 'disease':
          message = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÇ‡∏£‡∏Ñ‡πÅ‡∏•‡∏∞‡∏®‡∏±‡∏ï‡∏£‡∏π‡πÑ‡∏´‡∏° ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û';
          break;
        case 'tempHumidity':
          message = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á';
          break;
        case 'photo':
          message = '‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÑ‡∏´‡∏°‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ß‡∏±‡∏¢ ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥';
          break;
        case 'manual':
          message = '‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡∏π‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡πÑ‡∏´‡∏° 52 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå';
          break;
        default:
          message = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ';
      }
      alert(message);
    }

    // ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Å‡∏£‡∏≤‡∏ü Chart.js (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á ‚Äì ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á)
    function initCharts() {
      // ‡∏Å‡∏£‡∏≤‡∏ü 1: ‡∏ô‡πâ‡∏≥‡∏´‡∏ô‡∏±‡∏Å‡∏£‡∏±‡∏á‡πÑ‡∏´‡∏° (‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á) ‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö
      const ctx1 = document.getElementById('cocoonChart').getContext('2d');
      new Chart(ctx1, {
        type: 'line',
        data: {
          labels: ['‡∏£‡∏≠‡∏ö 1', '‡∏£‡∏≠‡∏ö 2', '‡∏£‡∏≠‡∏ö 3', '‡∏£‡∏≠‡∏ö 4'],
          datasets: [{
            label: '‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö',
            data: [40, 45, 48, 52],
            tension: 0.4,
            borderWidth: 2,
            pointRadius: 4
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              display: true
            },
            tooltip: {
              mode: 'index',
              intersect: false
            }
          },
          scales: {
            y: {
              title: {
                display: true,
                text: '‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á'
              },
              beginAtZero: true
            },
            x: {
              title: {
                display: true,
                text: '‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á'
              }
            }
          }
        }
      });

      // ‡∏Å‡∏£‡∏≤‡∏ü 2: ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á vs ‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏™‡πâ‡∏ô
      const ctx2 = document.getElementById('ratioChart').getContext('2d');
      new Chart(ctx2, {
        type: 'doughnut',
        data: {
          labels: ['‡∏Å‡∏¥‡πÇ‡∏•‡∏£‡∏±‡∏á‡∏£‡∏ß‡∏°', '‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏™‡πâ‡∏ô‡∏£‡∏ß‡∏°'],
          datasets: [{
            data: [185, 32],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom'
            }
          },
          cutout: '55%'
        }
      });
    }

    // ‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
    function initTasks() {
      const tasks = [
        {
          title: '‡πÉ‡∏´‡πâ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏´‡∏°‡∏ß‡∏±‡∏¢‡∏ó‡∏µ‡πà 3 ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ä‡πâ‡∏≤',
          time: '08:00 ‡∏ô.',
        },
        {
          title: '‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡πÇ‡∏£‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á (‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ 75‚Äì80%)',
          time: '10:30 ‡∏ô.',
        },
        {
          title: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î‡πÅ‡∏ú‡∏á‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏£‡∏≠‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3',
          time: '14:00 ‡∏ô.',
        },
        {
          title: '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏£‡∏±‡∏á‡πÑ‡∏´‡∏°‡∏£‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤',
          time: '17:30 ‡∏ô.',
        }
      ];

      const list = document.getElementById('tasksList');
      list.innerHTML = '';
      tasks.forEach(task => {
        const div = document.createElement('div');
        div.className = 'task-item';
        div.innerHTML = `
          <div class="task-dot"></div>
          <div style="flex:1">
            <div>${task.title}</div>
            <div class="task-time">${task.time}</div>
          </div>
        `;
        list.appendChild(div);
      });
    }

    // ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏™‡∏£‡πá‡∏à
    window.addEventListener('DOMContentLoaded', () => {
      initToday();
      initFarmerToggle();
      initCharts();
      initTasks();
    });
  </script>
</body>
</html>
